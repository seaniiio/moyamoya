
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ì•¼ëª¨ì•¼ - ëª¨ì„ ê´€ë¦¬ ì„œë¹„ìŠ¤</title>
    <meta name="description" content="ì¹œêµ¬ë“¤ê³¼ì˜ ì•½ì†, ì—¬í–‰, ìƒì¼, íšŒë¹„ ê´€ë¦¬ë¥¼ ì‰½ê²Œ">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: white;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .header .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .back-btn {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        .content {
            padding: 20px;
            padding-bottom: 80px;
        }

        .group-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .group-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #f0f0f0;
        }

        .group-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .group-name {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .group-members {
            color: #666;
            font-size: 14px;
        }

        .tabs {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            max-width: 400px;
            width: 100%;
            background: white;
            display: flex;
            border-top: 1px solid #eee;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        .tab {
            flex: 1;
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: none;
            color: #999;
            font-size: 12px;
        }

        .tab.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .tab-icon {
            font-size: 20px;
            margin-bottom: 4px;
            display: block;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #f0f0f0;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .card-date {
            color: #666;
            font-size: 14px;
        }

        .card-content {
            margin-bottom: 12px;
            color: #666;
            font-size: 14px;
            line-height: 1.4;
        }

        .participants {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .participant {
            background: #f0f9ff;
            color: #0369a1;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .participant.confirmed {
            background: #dcfce7;
            color: #166534;
        }

        .participant.declined {
            background: #fee2e2;
            color: #dc2626;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .action-buttons button {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-join {
            background: #10b981;
            color: white;
        }

        .btn-decline {
            background: #ef4444;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin: 20px;
            max-width: 350px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #374151;
        }

        .form-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea.form-input {
            resize: vertical;
            min-height: 80px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-pending {
            background: #fef3c7;
            color: #d97706;
        }

        .status-confirmed {
            background: #dcfce7;
            color: #166534;
        }

        .status-declined {
            background: #fee2e2;
            color: #dc2626;
        }

        .role-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: #f9fafb;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .role-name {
            font-weight: 500;
        }

        .role-assignee {
            color: #667eea;
            font-size: 14px;
        }

        .hidden {
            display: none;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #9ca3af;
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .fab {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            transition: all 0.2s;
            z-index: 99;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ë©”ì¸ í—¤ë” -->
        <div class="header">
            <button class="back-btn hidden" onclick="goBack()">â†</button>
            <h1 id="header-title">ëª¨ì•¼ëª¨ì•¼</h1>
            <div class="subtitle" id="header-subtitle">ëª¨ì„ ê´€ë¦¬ ì„œë¹„ìŠ¤</div>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="content" id="main-content">
            <!-- ì´ˆê¸° í™”ë©´: ëª¨ì„ ëª©ë¡ -->
            <div id="group-list-view">
                <div class="group-list">
                    <div class="group-card" onclick="enterGroup('311')">
                        <div class="group-name">ğŸ‰ 311</div>
                        <div class="group-members">í–‰ì„±ì´, ê¹€ìˆ˜ë¦°, ê¹€ì‹œì›, ì´ìœ ì§„, ë‚¨ë³´ë ¹</div>
                    </div>
                </div>
            </div>

            <!-- ëª¨ì„ ìƒì„¸ í™”ë©´ -->
            <div id="group-detail-view" class="hidden">
                <!-- ì•½ì† íƒ­ -->
                <div id="appointments-tab" class="tab-content">
                    <div id="appointments-list"></div>
                    <div class="empty-state hidden" id="appointments-empty">
                        <div class="empty-state-icon">ğŸ“…</div>
                        <p>ë“±ë¡ëœ ì•½ì†ì´ ì—†ìŠµë‹ˆë‹¤</p>
                    </div>
                </div>

                <!-- ì—¬í–‰ íƒ­ -->
                <div id="travels-tab" class="tab-content hidden">
                    <div id="travels-list"></div>
                    <div class="empty-state hidden" id="travels-empty">
                        <div class="empty-state-icon">âœˆï¸</div>
                        <p>ë“±ë¡ëœ ì—¬í–‰ì´ ì—†ìŠµë‹ˆë‹¤</p>
                    </div>
                </div>

                <!-- ìƒì¼ íƒ­ -->
                <div id="birthdays-tab" class="tab-content hidden">
                    <div id="birthdays-list"></div>
                    <div class="empty-state hidden" id="birthdays-empty">
                        <div class="empty-state-icon">ğŸ‚</div>
                        <p>ë“±ë¡ëœ ìƒì¼ì´ ì—†ìŠµë‹ˆë‹¤</p>
                    </div>
                </div>

                <!-- íšŒë¹„ íƒ­ -->
                <div id="dues-tab" class="tab-content hidden">
                    <div id="dues-list"></div>
                    <div class="empty-state hidden" id="dues-empty">
                        <div class="empty-state-icon">ğŸ’°</div>
                        <p>ë“±ë¡ëœ íšŒë¹„ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                    </div>
                </div>
            </div>

            <!-- ìƒì„¸ ë³´ê¸° í™”ë©´ë“¤ -->
            <div id="appointment-detail-view" class="hidden"></div>
            <div id="travel-detail-view" class="hidden"></div>
            <div id="birthday-detail-view" class="hidden"></div>
            <div id="due-detail-view" class="hidden"></div>
        </div>

        <!-- í•˜ë‹¨ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="tabs hidden" id="bottom-tabs">
            <button class="tab active" onclick="switchTab('appointments')">
                <span class="tab-icon">ğŸ“…</span>
                ì•½ì†
            </button>
            <button class="tab" onclick="switchTab('travels')">
                <span class="tab-icon">âœˆï¸</span>
                ì—¬í–‰
            </button>
            <button class="tab" onclick="switchTab('birthdays')">
                <span class="tab-icon">ğŸ‚</span>
                ìƒì¼
            </button>
            <button class="tab" onclick="switchTab('dues')">
                <span class="tab-icon">ğŸ’°</span>
                íšŒë¹„
            </button>
        </div>

        <!-- í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼ -->
        <button class="fab hidden" id="fab-btn" onclick="showCreateModal()">+</button>
    </div>

    <!-- ëª¨ë‹¬ë“¤ -->
    <!-- ì•½ì† ìƒì„± ëª¨ë‹¬ -->
    <div class="modal" id="appointment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ìƒˆ ì•½ì† ë§Œë“¤ê¸°</h3>
            </div>
            <form id="appointment-form">
                <div class="form-group">
                    <label class="form-label">ì•½ì† ì´ë¦„</label>
                    <input type="text" class="form-input" name="name" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ë‚ ì§œ</label>
                    <input type="date" class="form-input" name="date" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ì‹œê°„</label>
                    <input type="time" class="form-input" name="time" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ì¥ì†Œ</label>
                    <input type="text" class="form-input" name="location" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ë©”ëª¨</label>
                    <textarea class="form-input" name="memo" placeholder="ì¶”ê°€ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
                </div>
                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('appointment-modal')">ì·¨ì†Œ</button>
                    <button type="submit" class="btn">ìƒì„±í•˜ê¸°</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ì—¬í–‰ ìƒì„± ëª¨ë‹¬ -->
    <div class="modal" id="travel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ìƒˆ ì—¬í–‰ ë§Œë“¤ê¸°</h3>
            </div>
            <form id="travel-form">
                <div class="form-group">
                    <label class="form-label">ì—¬í–‰ ì´ë¦„</label>
                    <input type="text" class="form-input" name="name" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ì‹œì‘ ë‚ ì§œ</label>
                    <input type="date" class="form-input" name="startDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ì¢…ë£Œ ë‚ ì§œ</label>
                    <input type="date" class="form-input" name="endDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ì¥ì†Œ</label>
                    <input type="text" class="form-input" name="location" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ë©”ëª¨</label>
                    <textarea class="form-input" name="memo" placeholder="ì—¬í–‰ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
                </div>
                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('travel-modal')">ì·¨ì†Œ</button>
                    <button type="submit" class="btn">ìƒì„±í•˜ê¸°</button>
                </div>
            </form>
        </div>
    </div>

    <!-- íšŒë¹„ ìƒì„± ëª¨ë‹¬ -->
    <div class="modal" id="due-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ìƒˆ íšŒë¹„ ë§Œë“¤ê¸°</h3>
            </div>
            <form id="due-form">
                <div class="form-group">
                    <label class="form-label">íšŒë¹„ ëª…ëª©</label>
                    <input type="text" class="form-input" name="name" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ê¸ˆì•¡ (ì›)</label>
                    <input type="number" class="form-input" name="amount" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ë§ˆê°ì¼</label>
                    <input type="date" class="form-input" name="dueDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ë²Œì¹™</label>
                    <input type="text" class="form-input" name="penalty" placeholder="ì˜ˆ: ë‹¤ìŒ ì•½ì†ì—ì„œ ì»¤í”¼ ì‚¬ê¸°">
                </div>
                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('due-modal')">ì·¨ì†Œ</button>
                    <button type="submit" class="btn">ìƒì„±í•˜ê¸°</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ì°¸ì—¬ ì‘ë‹µ ëª¨ë‹¬ -->
    <div class="modal" id="response-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ì°¸ì—¬ ì‘ë‹µ</h3>
            </div>
            <div id="response-content"></div>
        </div>
    </div>

    <script>
        // ë°ì´í„° ì €ì¥ì†Œ
        let currentUser = 'í–‰ì„±ì´';
        let currentGroup = null;
        let currentTab = 'appointments';
        let currentView = 'group-list';

        // ì´ˆê¸° ë°ì´í„°
        let data = {
            groups: {
                '311': {
                    name: '311',
                    members: ['í–‰ì„±ì´', 'ê¹€ìˆ˜ë¦°', 'ê¹€ì‹œì›', 'ì´ìœ ì§„', 'ë‚¨ë³´ë ¹'],
                    appointments: [
                        {
                            id: 1,
                            name: '311 ì •ê¸° ëª¨ì„',
                            date: '2025-07-05',
                            time: '20:00',
                            location: 'ì˜¤ëª©êµ ê²½ì„±ì£¼ë§‰',
                            memo: 'ì •ê¸° ëª¨ì„ì…ë‹ˆë‹¤',
                            creator: 'ê¹€ìˆ˜ë¦°',
                            participants: {
                                'ê¹€ìˆ˜ë¦°': 'confirmed',
                                'ë‚¨ë³´ë ¹': 'confirmed',
                                'í–‰ì„±ì´': 'pending',
                                'ê¹€ì‹œì›': 'pending',
                                'ì´ìœ ì§„': 'pending'
                            },
                            declineReasons: {}
                        },
                        {
                            id: 2,
                            name: 'ì—°ë§ íŒŒí‹°',
                            date: '2025-12-28',
                            time: '20:00',
                            location: 'í™ëŒ€ íŒŒí‹°ë£¸',
                            memo: 'ì˜¬í•´ ë§ˆì§€ë§‰ ëª¨ì„!',
                            creator: 'ê¹€ìˆ˜ë¦°',
                            participants: {
                                'ê¹€ìˆ˜ë¦°': 'confirmed',
                                'ë‚¨ë³´ë ¹': 'confirmed',
                                'ê¹€ì‹œì›': 'confirmed',
                                'ì´ìœ ì§„': 'confirmed',
                                'í–‰ì„±ì´': 'pending'
                            },
                            declineReasons: {}
                        }
                    ],
                    travels: [
                        {
                            id: 1,
                            name: 'ë² íŠ¸ë‚¨ ë‹¤ë‚­',
                            startDate: '2025-06-27',
                            endDate: '2025-07-01',
                            location: 'ë² íŠ¸ë‚¨ ë‹¤ë‚­',
                            memo: 'ì—¬ë¦„ íœ´ê°€',
                            roles: [
                                { name: 'ìˆ™ì†Œ', assignee: 'ê¹€ìˆ˜ë¦°', content: 'ğŸ¨ ë‹¤ë‚­ í˜¸í…” ì •ë¦¬\n\nğŸ“ë„¤ìŠ¤íƒ€í˜¸í…” 6/27~28 (1ë°•)\n<https://maps.app.goo.gl/cDvcXLRYXCg6EBHJA?g_st=com.google.maps.preview.copy>\nğŸ“ì½”ì§€ë‹¤ë‚­ ë¶€í‹°í¬ í˜¸í…” 6/28~30 (2ë°•)\n<https://maps.app.goo.gl/zq9Q3Mt6SqVzhSBy8?g_st=com.google.maps.preview.copy>\n\nâœ”ï¸í˜¸í…”ì€ 2ëª…ì”© ë°© 4ê°œ ì˜ˆì•½\nâœ”ï¸ë„¤ìŠ¤íƒ€ëŠ” í•´ì•ˆìª½, ì½”ì§€ë‹¤ë‚­ì€ ë„ì‹¬ìª½\nâœ”ï¸ì•„ê³ ë‹¤ë¡œ ì˜ˆì•½, ìºì‰¬ë°±ì€ ë“¤ì–´ì˜¤ëŠ”ë°ë¡œ í™˜ê¸‰ ì˜ˆì •' },
                                { name: 'ê´€ê´‘', assignee: 'í–‰ì„±ì´', content: 'ğŸšì¸ì²œê³µí•­ê¹Œì§€ ê°€ëŠ” ì½œë²¤ğŸš\n\n1) ë‹¹ì‚°ì—­ì—ì„œ ì˜¤ì „ 2ì‹œ (ì‹œì›, ê²½ë¯¼)\n2) ëª©ë™ 41íƒ€ì›Œì—ì„œ ì˜¤ì „ 2ì‹œ 10ë¶„ (ë³´ë ¹, í˜œìœ¤, ì¬ì´, ìˆ˜ë¦°, ì§€ìˆ˜)\n3) ëª©ë™ê³ ì—ì„œ ì˜¤ì „ 2ì‹œ 20ë¶„ (ìœ ì§„)\n\n*ì ˆëŒ€ ëŠ¦ì§€ ë§ê³  ì‹œê°„ ì—„ìˆ˜!! 2),3)ì—ì„œ íƒ€ëŠ” ì‚¬ëŒë“¤ì€ 5ë¶„ì”© ì¼ì° ì™€ì„œ ê¸°ë‹¤ë¦¬ì~!!\n\n* ê¸ˆì•¡: 175,000ì› (1ì¸ë‹¹ 21,875ì›)' },
                                { name: 'ì¥ë³´ê¸°', assignee: 'ì´ìœ ì§„', content: '' },
                                { name: 'ì´ë¬´', assignee: 'ê¹€ì‹œì›', content: '' },
                                { name: 'ë§›ì§‘ ì°¾ê¸°', assignee: 'ë‚¨ë³´ë ¹', content: '' }
                            ]
                        }
                    ],
                    birthdays: [
                        { name: 'ê¹€ìˆ˜ë¦°', date: '11-05', assignee: null, content: '' },
                        { name: 'ê¹€ì‹œì›', date: '02-26', assignee: null, content: '' },
                        { name: 'ì´ìœ ì§„', date: '10-30', assignee: null, content: '' },
                        { name: 'ë‚¨ë³´ë ¹', date: '03-17', assignee: null, content: '' }
                    ],
                    dues: [
                        {
                            id: 1,
                            name: 'ì •ê¸° íšŒë¹„',
                            amount: 20000,
                            dueDate: '2025-07-31',
                            penalty: 'ë‹¤ìŒ ì•½ì†ì—ì„œ ì»¤í”¼ ì‚¬ê¸°',
                            payments: {
                                'ê¹€ìˆ˜ë¦°': true,
                                'ë‚¨ë³´ë ¹': true,
                                'í–‰ì„±ì´': false,
                                'ê¹€ì‹œì›': false,
                                'ì´ìœ ì§„': false
                            }
                        }
                    ]
                }
            }
        };

        // ë·° ì „í™˜ í•¨ìˆ˜ë“¤
        function enterGroup(groupId) {
            currentGroup = groupId;
            currentView = 'group-detail';
            document.getElementById('group-list-view').classList.add('hidden');
            document.getElementById('group-detail-view').classList.remove('hidden');
            document.getElementById('bottom-tabs').classList.remove('hidden');
            document.getElementById('fab-btn').classList.remove('hidden');
            document.querySelector('.back-btn').classList.remove('hidden');
            
            updateHeader();
            loadTabContent();
        }

        function goBack() {
            if (currentView === 'group-detail') {
                currentView = 'group-list';
                currentGroup = null;
                document.getElementById('group-list-view').classList.remove('hidden');
                document.getElementById('group-detail-view').classList.add('hidden');
                document.getElementById('bottom-tabs').classList.add('hidden');
                document.getElementById('fab-btn').classList.add('hidden');
                document.querySelector('.back-btn').classList.add('hidden');
                
                // ìƒì„¸ ë·°ë“¤ ìˆ¨ê¸°ê¸°
                hideAllDetailViews();
                updateHeader();
            } else if (currentView.includes('-detail')) {
                currentView = 'group-detail';
                hideAllDetailViews();
                document.getElementById('group-detail-view').classList.remove('hidden');
                document.getElementById('bottom-tabs').classList.remove('hidden');
                document.getElementById('fab-btn').classList.remove('hidden');
                updateHeader();
                loadTabContent();
            }
        }

        function hideAllDetailViews() {
            document.getElementById('appointment-detail-view').classList.add('hidden');
            document.getElementById('travel-detail-view').classList.add('hidden');
            document.getElementById('birthday-detail-view').classList.add('hidden');
            document.getElementById('due-detail-view').classList.add('hidden');
        }

        function updateHeader() {
            const title = document.getElementById('header-title');
            const subtitle = document.getElementById('header-subtitle');
            
            if (currentView === 'group-list') {
                title.textContent = 'ëª¨ì•¼ëª¨ì•¼';
                subtitle.textContent = 'ëª¨ì„ ê´€ë¦¬ ì„œë¹„ìŠ¤';
            } else if (currentView === 'group-detail') {
                title.textContent = currentGroup;
                const tabNames = {
                    'appointments': 'ì•½ì†',
                    'travels': 'ì—¬í–‰',
                    'birthdays': 'ìƒì¼',
                    'dues': 'íšŒë¹„'
                };
                subtitle.textContent = tabNames[currentTab];
            } else if (currentView.includes('-detail')) {
                title.textContent = currentGroup;
                subtitle.textContent = 'ìƒì„¸ ë³´ê¸°';
            }
        }

        function switchTab(tab) {
            currentTab = tab;
            
            // íƒ­ ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            // íƒ­ ì»¨í…ì¸  í‘œì‹œ/ìˆ¨ê¹€
            document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
            document.getElementById(tab + '-tab').classList.remove('hidden');
            
            updateHeader();
            loadTabContent();
        }

        function loadTabContent() {
            if (!currentGroup) return;
            
            const groupData = data.groups[currentGroup];
            
            switch(currentTab) {
                case 'appointments':
                    loadAppointments(groupData.appointments);
                    break;
                case 'travels':
                    loadTravels(groupData.travels);
                    break;
                case 'birthdays':
                    loadBirthdays(groupData.birthdays);
                    break;
                case 'dues':
                    loadDues(groupData.dues);
                    break;
            }
        }

        function loadAppointments(appointments) {
            const container = document.getElementById('appointments-list');
            const empty = document.getElementById('appointments-empty');
            
            if (appointments.length === 0) {
                container.innerHTML = '';
                empty.classList.remove('hidden');
                return;
            }
            
            empty.classList.add('hidden');
            container.innerHTML = appointments.map(apt => `
                <div class="card" onclick="showAppointmentDetail(${apt.id})">
                    <div class="card-header">
                        <div class="card-title">${apt.name}</div>
                        <div class="card-date">${formatDate(apt.date)} ${apt.time}</div>
                    </div>
                    <div class="card-content">
                        ğŸ“ ${apt.location}
                        ${apt.memo ? `<br>ğŸ’¬ ${apt.memo}` : ''}
                    </div>
                    <div class="participants">
                        ${Object.entries(apt.participants).map(([name, status]) => 
                            `<span class="participant ${status}">${name}</span>`
                        ).join('')}
                    </div>
                    ${apt.participants[currentUser] === 'pending' ? `
                        <div class="action-buttons">
                            <button class="btn-join" onclick="event.stopPropagation(); respondToAppointment(${apt.id}, 'confirmed')">ì°¸ì—¬</button>
                            <button class="btn-decline" onclick="event.stopPropagation(); showDeclineModal(${apt.id})">ë¶ˆì°¸</button>
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function loadTravels(travels) {
            const container = document.getElementById('travels-list');
            const empty = document.getElementById('travels-empty');
            
            if (travels.length === 0) {
                container.innerHTML = '';
                empty.classList.remove('hidden');
                return;
            }
            
            empty.classList.add('hidden');
            container.innerHTML = travels.map(travel => `
                <div class="card" onclick="showTravelDetail(${travel.id})">
                    <div class="card-header">
                        <div class="card-title">${travel.name}</div>
                        <div class="card-date">${formatDate(travel.startDate)} ~ ${formatDate(travel.endDate)}</div>
                    </div>
                    <div class="card-content">
                        ğŸ“ ${travel.location}
                        ${travel.memo ? `<br>ğŸ’¬ ${travel.memo}` : ''}
                    </div>
                    <div class="participants">
                        ${travel.roles.map(role => 
                            `<span class="participant">${role.name}: ${role.assignee}</span>`
                        ).join('')}
                    </div>
                </div>
            `).join('');
        }

        function loadBirthdays(birthdays) {
            const container = document.getElementById('birthdays-list');
            const empty = document.getElementById('birthdays-empty');
            
            if (birthdays.length === 0) {
                container.innerHTML = '';
                empty.classList.remove('hidden');
                return;
            }
            
            empty.classList.add('hidden');
            
            // ìƒì¼ì„ ë‚ ì§œìˆœìœ¼ë¡œ ì •ë ¬
            const sortedBirthdays = [...birthdays].sort((a, b) => {
                const dateA = new Date(`2025-${a.date}`);
                const dateB = new Date(`2025-${b.date}`);
                return dateA - dateB;
            });
            
            container.innerHTML = sortedBirthdays.map(birthday => `
                <div class="card" onclick="showBirthdayDetail('${birthday.name}')">
                    <div class="card-header">
                        <div class="card-title">ğŸ‚ ${birthday.name}</div>
                        <div class="card-date">${birthday.date}</div>
                    </div>
                    <div class="card-content">
                        ${birthday.assignee ? `ë‹´ë‹¹ì: ${birthday.assignee}` : 'ë‹´ë‹¹ì ë¯¸ì •'}
                    </div>
                    ${!birthday.assignee ? `
                        <button class="btn" onclick="event.stopPropagation(); assignBirthdayManager('${birthday.name}')">ë‹´ë‹¹ì ì§€ì •</button>
                    ` : ''}
                </div>
            `).join('');
        }

        function loadDues(dues) {
            const container = document.getElementById('dues-list');
            const empty = document.getElementById('dues-empty');
            
            if (dues.length === 0) {
                container.innerHTML = '';
                empty.classList.remove('hidden');
                return;
            }
            
            empty.classList.add('hidden');
            container.innerHTML = dues.map(due => `
                <div class="card" onclick="showDueDetail(${due.id})">
                    <div class="card-header">
                        <div class="card-title">${due.name}</div>
                        <div class="card-date">ë§ˆê°: ${formatDate(due.dueDate)}</div>
                    </div>
                    <div class="card-content">
                        ğŸ’° ${due.amount.toLocaleString()}ì›
                        ${due.penalty ? `<br>ğŸš¨ ë²Œì¹™: ${due.penalty}` : ''}
                    </div>
                    <div class="participants">
                        ${Object.entries(due.payments).map(([name, paid]) => 
                            `<span class="participant ${paid ? 'confirmed' : 'declined'}">${name}</span>`
                        ).join('')}
                    </div>
                    ${!due.payments[currentUser] ? `
                        <button class="btn" onclick="event.stopPropagation(); payDue(${due.id})">ì œì¶œ ì™„ë£Œ</button>
                    ` : ''}
                </div>
            `).join('');
        }

        // ìƒì„¸ ë³´ê¸° í•¨ìˆ˜ë“¤
        function showAppointmentDetail(id) {
            const appointment = data.groups[currentGroup].appointments.find(a => a.id === id);
            if (!appointment) return;
            
            currentView = 'appointment-detail';
            hideAllDetailViews();
            document.getElementById('group-detail-view').classList.add('hidden');
            document.getElementById('bottom-tabs').classList.add('hidden');
            document.getElementById('fab-btn').classList.add('hidden');
            
            const container = document.getElementById('appointment-detail-view');
            container.classList.remove('hidden');
            
            container.innerHTML = `
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">${appointment.name}</div>
                        <div class="card-date">${formatDate(appointment.date)} ${appointment.time}</div>
                    </div>
                    <div class="card-content">
                        <p><strong>ğŸ“ ì¥ì†Œ:</strong> ${appointment.location}</p>
                        <p><strong>ğŸ‘¤ ìƒì„±ì:</strong> ${appointment.creator}</p>
                        ${appointment.memo ? `<p><strong>ğŸ’¬ ë©”ëª¨:</strong> ${appointment.memo}</p>` : ''}
                    </div>
                    
                    <h4 style="margin: 20px 0 10px 0;">ì°¸ì—¬ í˜„í™©</h4>
                    ${Object.entries(appointment.participants).map(([name, status]) => `
                        <div class="role-item">
                            <span class="role-name">${name}</span>
                            <span class="status-badge ${status === 'confirmed' ? 'status-confirmed' : status === 'declined' ? 'status-declined' : 'status-pending'}">
                                ${status === 'confirmed' ? 'ì°¸ì—¬' : status === 'declined' ? 'ë¶ˆì°¸' : 'ë¯¸ì •'}
                            </span>
                        </div>
                        ${status === 'declined' && appointment.declineReasons[name] ? `
                            <div style="margin-left: 20px; color: #666; font-size: 14px; margin-bottom: 8px;">
                                ì‚¬ìœ : ${appointment.declineReasons[name]}
                            </div>
                        ` : ''}
                    `).join('')}
                    
                    ${appointment.participants[currentUser] === 'pending' ? `
                        <div class="action-buttons" style="margin-top: 20px;">
                            <button class="btn-join" onclick="respondToAppointment(${appointment.id}, 'confirmed')">ì°¸ì—¬</button>
                            <button class="btn-decline" onclick="showDeclineModal(${appointment.id})">ë¶ˆì°¸</button>
                        </div>
                    ` : ''}
                </div>
            `;
            
            updateHeader();
        }

        function showTravelDetail(id) {
            const travel = data.groups[currentGroup].travels.find(t => t.id === id);
            if (!travel) return;
            
            currentView = 'travel-detail';
            hideAllDetailViews();
            document.getElementById('group-detail-view').classList.add('hidden');
            document.getElementById('bottom-tabs').classList.add('hidden');
            document.getElementById('fab-btn').classList.add('hidden');
            
            const container = document.getElementById('travel-detail-view');
            container.classList.remove('hidden');
            
            container.innerHTML = `
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">${travel.name}</div>
                        <div class="card-date">${formatDate(travel.startDate)} ~ ${formatDate(travel.endDate)}</div>
                    </div>
                    <div class="card-content">
                        <p><strong>ğŸ“ ì¥ì†Œ:</strong> ${travel.location}</p>
                        ${travel.memo ? `<p><strong>ğŸ’¬ ë©”ëª¨:</strong> ${travel.memo}</p>` : ''}
                    </div>
                    
                    <h4 style="margin: 20px 0 10px 0;">ì—­í•  ë¶„ë‹´</h4>
                    ${travel.roles.map(role => `
                        <div class="card" style="margin-bottom: 12px;">
                            <div class="role-item" style="margin-bottom: 8px;">
                                <span class="role-name">${role.name}</span>
                                <span class="role-assignee">${role.assignee}</span>
                            </div>
                            ${role.content ? `
                                <div style="background: #f9fafb; padding: 12px; border-radius: 8px; white-space: pre-line; font-size: 14px;">
                                    ${role.content}
                                </div>
                            ` : `
                                <div style="text-align: center; color: #9ca3af; padding: 20px;">
                                    ì•„ì§ ì‘ì„±ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤
                                </div>
                            `}
                            ${role.assignee === currentUser ? `
                                <button class="btn" style="margin-top: 8px;" onclick="editTravelRole(${travel.id}, '${role.name}')">
                                    ${role.content ? 'ìˆ˜ì •í•˜ê¸°' : 'ì‘ì„±í•˜ê¸°'}
                                </button>
                            ` : ''}
                        </div>
                    `).join('')}
                </div>
            `;
            
            updateHeader();
        }

        function showBirthdayDetail(name) {
            const birthday = data.groups[currentGroup].birthdays.find(b => b.name === name);
            if (!birthday) return;
            
            currentView = 'birthday-detail';
            hideAllDetailViews();
            document.getElementById('group-detail-view').classList.add('hidden');
            document.getElementById('bottom-tabs').classList.add('hidden');
            document.getElementById('fab-btn').classList.add('hidden');
            
            const container = document.getElementById('birthday-detail-view');
            container.classList.remove('hidden');
            
            container.innerHTML = `
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">ğŸ‚ ${birthday.name}</div>
                        <div class="card-date">${birthday.date}</div>
                    </div>
                    <div class="card-content">
                        <p><strong>ë‹´ë‹¹ì:</strong> ${birthday.assignee || 'ë¯¸ì •'}</p>
                    </div>
                    
                    ${!birthday.assignee ? `
                        <button class="btn" onclick="assignBirthdayManager('${birthday.name}')">ë‹´ë‹¹ì ì§€ì •</button>
                    ` : `
                        <h4 style="margin: 20px 0 10px 0;">ì¤€ë¹„ í˜„í™©</h4>
                        <div class="card">
                            ${birthday.content ? `
                                <div style="white-space: pre-line; font-size: 14px;">
                                    ${birthday.content}
                                </div>
                            ` : `
                                <div style="text-align: center; color: #9ca3af; padding: 20px;">
                                    ì•„ì§ ì‘ì„±ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤
                                </div>
                            `}
                            ${birthday.assignee === currentUser ? `
                                <button class="btn" style="margin-top: 12px;" onclick="editBirthdayContent('${birthday.name}')">
                                    ${birthday.content ? 'ìˆ˜ì •í•˜ê¸°' : 'ì‘ì„±í•˜ê¸°'}
                                </button>
                            ` : ''}
                        </div>
                    `}
                </div>
            `;
            
            updateHeader();
        }

        function showDueDetail(id) {
            const due = data.groups[currentGroup].dues.find(d => d.id === id);
            if (!due) return;
            
            currentView = 'due-detail';
            hideAllDetailViews();
            document.getElementById('group-detail-view').classList.add('hidden');
            document.getElementById('bottom-tabs').classList.add('hidden');
            document.getElementById('fab-btn').classList.add('hidden');
            
            const container = document.getElementById('due-detail-view');
            container.classList.remove('hidden');
            
            const paidCount = Object.values(due.payments).filter(paid => paid).length;
            const totalCount = Object.keys(due.payments).length;
            
            container.innerHTML = `
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">${due.name}</div>
                        <div class="card-date">ë§ˆê°: ${formatDate(due.dueDate)}</div>
                    </div>
                    <div class="card-content">
                        <p><strong>ğŸ’° ê¸ˆì•¡:</strong> ${due.amount.toLocaleString()}ì›</p>
                        <p><strong>ğŸ“Š ì§„í–‰ë¥ :</strong> ${paidCount}/${totalCount}ëª… (${Math.round(paidCount/totalCount*100)}%)</p>
                        ${due.penalty ? `<p><strong>ğŸš¨ ë²Œì¹™:</strong> ${due.penalty}</p>` : ''}
                    </div>
                    
                    <h4 style="margin: 20px 0 10px 0;">ì œì¶œ í˜„í™©</h4>
                    ${Object.entries(due.payments).map(([name, paid]) => `
                        <div class="role-item">
                            <span class="role-name">${name}</span>
                            <span class="status-badge ${paid ? 'status-confirmed' : 'status-declined'}">
                                ${paid ? 'ì œì¶œ ì™„ë£Œ' : 'ë¯¸ì œì¶œ'}
                            </span>
                        </div>
                    `).join('')}
                    
                    ${!due.payments[currentUser] ? `
                        <button class="btn" style="margin-top: 20px;" onclick="payDue(${due.id})">ì œì¶œ ì™„ë£Œ</button>
                    ` : ''}
                </div>
            `;
            
            updateHeader();
        }

        // ì•¡ì…˜ í•¨ìˆ˜ë“¤
        function showCreateModal() {
            const modals = {
                'appointments': 'appointment-modal',
                'travels': 'travel-modal',
                'birthdays': null, // ìƒì¼ì€ ìƒì„±ì´ ì•„ë‹ˆë¼ ë‹´ë‹¹ì ì§€ì •
                'dues': 'due-modal'
            };
            
            const modalId = modals[currentTab];
            if (modalId) {
                document.getElementById(modalId).classList.add('show');
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        function respondToAppointment(id, response) {
            data.groups[currentGroup].appointments.find(a => a.id === id).participants[currentUser] = response;
            loadTabContent();
            if (currentView === 'appointment-detail') {
                showAppointmentDetail(id);
            }
        }

        function showDeclineModal(id) {
            const modal = document.getElementById('response-modal');
            const content = document.getElementById('response-content');
            
            content.innerHTML = `
                <div class="form-group">
                    <label class="form-label">ë¶ˆì°¸ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</label>
                    <textarea class="form-input" id="decline-reason" placeholder="ë¶ˆì°¸ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="closeModal('response-modal')">ì·¨ì†Œ</button>
                    <button class="btn" onclick="submitDecline(${id})">í™•ì¸</button>
                </div>
            `;
            
            modal.classList.add('show');
        }

        function submitDecline(id) {
            const reason = document.getElementById('decline-reason').value;
            const appointment = data.groups[currentGroup].appointments.find(a => a.id === id);
            
            appointment.participants[currentUser] = 'declined';
            if (reason) {
                appointment.declineReasons[currentUser] = reason;
            }
            
            closeModal('response-modal');
            loadTabContent();
            if (currentView === 'appointment-detail') {
                showAppointmentDetail(id);
            }
        }

        function assignBirthdayManager(name) {
            const members = data.groups[currentGroup].members.filter(m => m !== name);
            const randomManager = members[Math.floor(Math.random() * members.length)];
            
            data.groups[currentGroup].birthdays.find(b => b.name === name).assignee = randomManager;
            
            alert(`${randomManager}ë‹˜ì´ ${name}ë‹˜ì˜ ìƒì¼ ë‹´ë‹¹ìë¡œ ì§€ì •ë˜ì—ˆìŠµë‹ˆë‹¤!`);
            
            loadTabContent();
            if (currentView === 'birthday-detail') {
                showBirthdayDetail(name);
            }
        }

        function payDue(id) {
            data.groups[currentGroup].dues.find(d => d.id === id).payments[currentUser] = true;
            
            alert('íšŒë¹„ ì œì¶œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
            
            loadTabContent();
            if (currentView === 'due-detail') {
                showDueDetail(id);
            }
        }

        function editTravelRole(travelId, roleName) {
            const travel = data.groups[currentGroup].travels.find(t => t.id === travelId);
            const role = travel.roles.find(r => r.name === roleName);
            
            const modal = document.getElementById('response-modal');
            const content = document.getElementById('response-content');
            
            content.innerHTML = `
                <div class="form-group">
                    <label class="form-label">${roleName} ì¤€ë¹„ í˜„í™©</label>
                    <textarea class="form-input" id="role-content" placeholder="ì¤€ë¹„ í˜„í™©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" style="min-height: 120px;">${role.content || ''}</textarea>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="closeModal('response-modal')">ì·¨ì†Œ</button>
                    <button class="btn" onclick="submitRoleContent(${travelId}, '${roleName}')">ì €ì¥</button>
                </div>
            `;
            
            modal.classList.add('show');
        }

        function submitRoleContent(travelId, roleName) {
            const content = document.getElementById('role-content').value;
            const travel = data.groups[currentGroup].travels.find(t => t.id === travelId);
            const role = travel.roles.find(r => r.name === roleName);
            
            role.content = content;
            
            closeModal('response-modal');
            showTravelDetail(travelId);
        }

        function editBirthdayContent(name) {
            const birthday = data.groups[currentGroup].birthdays.find(b => b.name === name);
            
            const modal = document.getElementById('response-modal');
            const content = document.getElementById('response-content');
            
            content.innerHTML = `
                <div class="form-group">
                    <label class="form-label">${name}ë‹˜ ìƒì¼ ì¤€ë¹„ í˜„í™©</label>
                    <textarea class="form-input" id="birthday-content" placeholder="ì¤€ë¹„ í˜„í™©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" style="min-height: 120px;">${birthday.content || ''}</textarea>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="closeModal('response-modal')">ì·¨ì†Œ</button>
                    <button class="btn" onclick="submitBirthdayContent('${name}')">ì €ì¥</button>
                </div>
            `;
            
            modal.classList.add('show');
        }

        function submitBirthdayContent(name) {
            const content = document.getElementById('birthday-content').value;
            data.groups[currentGroup].birthdays.find(b => b.name === name).content = content;
            
            closeModal('response-modal');
            showBirthdayDetail(name);
        }

        // í¼ ì œì¶œ ì´ë²¤íŠ¸ë“¤
        document.getElementById('appointment-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            const newAppointment = {
                id: Date.now(),
                name: formData.get('name'),
                date: formData.get('date'),
                time: formData.get('time'),
                location: formData.get('location'),
                memo: formData.get('memo'),
                creator: currentUser,
                participants: {},
                declineReasons: {}
            };
            
            // ëª¨ë“  ë©¤ë²„ë¥¼ pending ìƒíƒœë¡œ ì´ˆê¸°í™”
            data.groups[currentGroup].members.forEach(member => {
                newAppointment.participants[member] = 'pending';
            });
            
            data.groups[currentGroup].appointments.push(newAppointment);
            
            closeModal('appointment-modal');
            this.reset();
            loadTabContent();
        });

        document.getElementById('travel-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            const roles = ['ìˆ™ì†Œ', 'ê´€ê´‘', 'ì¥ë³´ê¸°', 'ì´ë¬´', 'ë§›ì§‘ ì°¾ê¸°'];
            const members = [...data.groups[currentGroup].members];
            const shuffled = members.sort(() => 0.5 - Math.random());
            
            const newTravel = {
                id: Date.now(),
                name: formData.get('name'),
                startDate: formData.get('startDate'),
                endDate: formData.get('endDate'),
                location: formData.get('location'),
                memo: formData.get('memo'),
                roles: roles.map((role, index) => ({
                    name: role,
                    assignee: shuffled[index % shuffled.length],
                    content: ''
                }))
            };
            
            data.groups[currentGroup].travels.push(newTravel);
            
            closeModal('travel-modal');
            this.reset();
            loadTabContent();
        });

        document.getElementById('due-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            const newDue = {
                id: Date.now(),
                name: formData.get('name'),
                amount: parseInt(formData.get('amount')),
                dueDate: formData.get('dueDate'),
                penalty: formData.get('penalty'),
                payments: {}
            };
            
            // ëª¨ë“  ë©¤ë²„ë¥¼ ë¯¸ë‚© ìƒíƒœë¡œ ì´ˆê¸°í™”
            data.groups[currentGroup].members.forEach(member => {
                newDue.payments[member] = false;
            });
            
            data.groups[currentGroup].dues.push(newDue);
            
            closeModal('due-modal');
            this.reset();
            loadTabContent();
        });

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function formatDate(dateString) {
            const date = new Date(dateString);
            return `${date.getMonth() + 1}/${date.getDate()}`;
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('show');
                }
            });
        });

        // ì´ˆê¸° ë¡œë“œ
        document.addEventListener('DOMContentLoaded', function() {
            // ì´ˆê¸°í™” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì—
        });
    </script>
</body>
</html>
